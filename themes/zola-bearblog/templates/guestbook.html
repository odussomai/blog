{% extends "base.html" %}

{% block main %}
  <main>
    <h1>{{ page.title }}</h1>
    
    <div class="guestbook-intro">
      <p>{{ page.content | safe }}</p>
    </div>

    <!-- Guestbook Script -->
    <script async src="https://guestbooks.meadow.cafe/resources/js/embed_script/848/script.js"></script>

    <!-- Guestbook Form -->
    <div id="guestbooks___guestbook-form-container" class="guestbook-form">
      <form id="guestbooks___guestbook-form" 
            action="https://guestbooks.meadow.cafe/guestbook/848/submit" 
            method="post">
        
        <div class="guestbooks___input-container">
          <input type="text" 
                 id="name" 
                 name="name" 
                 placeholder="თქვენი სახელი" 
                 required>
        </div>
        
        <div class="guestbooks___input-container">
          <input type="url" 
                 id="website" 
                 name="website" 
                 placeholder="ვებსაიტი (არჩევითი)">
        </div>
        
        <div id="guestbooks___challenge-answer-container"></div>
        
        <div class="guestbooks___input-container">
          <textarea id="text" 
                    name="text" 
                    placeholder="დატოვეთ თქვენი შეტყობინება აქ..." 
                    rows="4"
                    required></textarea>
        </div>
        
        <button type="submit">შეტყობინების დატოვება</button>
        <div id="guestbooks___error-message"></div>
      </form>
    </div>

    <!-- Attribution -->
    <div id="guestbooks___guestbook-made-with" class="guestbook-attribution">
      <small>შექმნილია <a href="https://guestbooks.meadow.cafe" target="_blank">Guestbooks</a>-ის მიერ</small>
    </div>

    <!-- Messages Section -->
    <div class="guestbook-messages">
      <hr/>
      <h3 id="guestbooks___guestbook-messages-header">შეტყობინებები</h3>
      <div id="guestbooks___guestbook-messages-container"></div>
    </div>
  </main>
{% endblock %}
